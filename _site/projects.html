<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Pranav - projects</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Pranav</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./projects.html" rel="" target="" aria-current="page">
 <span class="menu-text">projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">PPT</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">projects</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Codes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'plotly'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:ggplot2':

    last_plot</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:stats':

    filter</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:graphics':

    layout</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the dataset</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"dataset.csv"</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns with simpler names</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dataset) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Country"</span>, <span class="st">"Total_payment"</span>, <span class="st">"Income_tax"</span>, <span class="st">"Employee_social_security_contributions"</span>, <span class="st">"Gross_wage_earnings"</span>, <span class="st">"Wages_earning_After_Taxes"</span>, <span class="st">"Tax_amount"</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate Total_payment(%)</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>dataset<span class="sc">$</span>Total_payment <span class="ot">&lt;-</span> dataset<span class="sc">$</span>Income_tax <span class="sc">+</span> dataset<span class="sc">$</span>Employee_social_security_contributions</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar graph</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(dataset, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Country, Total_payment), <span class="at">y =</span> Total_payment, </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>                         <span class="at">text =</span> <span class="fu">paste</span>(Country, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Total Payment (%)&lt;br&gt;"</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>                                      Total_payment, <span class="st">"%"</span>))) <span class="sc">+</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="fu">aes</span>(<span class="at">fill =</span> <span class="st">"Total Payment (%)"</span>)) <span class="sc">+</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="fu">aes</span>(<span class="at">y =</span> Income_tax, <span class="at">fill =</span> <span class="st">"Income Tax (%)"</span>,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">text =</span> <span class="fu">paste</span>(Country, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>                                              <span class="st">"Income Tax (%)&lt;br&gt;"</span>,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>                                                Income_tax, <span class="st">"%"</span>))) <span class="sc">+</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="fu">aes</span>(<span class="at">y =</span> Employee_social_security_contributions, <span class="at">fill =</span> <span class="st">"Employee Social Security Contributions (%)"</span>,</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">text =</span> <span class="fu">paste</span>(Country, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>                                              <span class="st">"Employee Social Security Contributions (%)&lt;br&gt;"</span>,</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>                                                Employee_social_security_contributions, <span class="st">"%"</span>))) <span class="sc">+</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Total Payment (%)"</span> <span class="ot">=</span> <span class="st">"#7B68EE"</span>, <span class="st">"Income Tax (%)"</span> <span class="ot">=</span> <span class="st">"#FFA07A"</span>, <span class="st">"Employee Social Security Contributions (%)"</span> <span class="ot">=</span> <span class="st">"#20B2AA"</span>)) <span class="sc">+</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Income Tax and Employee Social Security Contributions by Country"</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Country"</span>,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentage (%)"</span>,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust=</span><span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>) <span class="sc">+</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Type of Tax"</span>)) </span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Add interactivity using plotly</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p, <span class="at">tooltip =</span> <span class="st">"text"</span>)</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-502876ea4de50a9eb782" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-502876ea4de50a9eb782">{"x":{"data":[{"orientation":"v","width":[0.90000000000000036,0.89999999999999858,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.90000000000000213,0.89999999999999858,0.89999999999999991,0.89999999999999858,0.90000000000000013,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[4,25,24,35,29,36,31,22,34,15,12,20,10,3,28,26,17,8,30,11,9,6,5,19,33,21,23,16,14,7,32,13,1,27,2,18],"y":[16.899999999999999,29,28.600000000000001,39.900000000000006,30.399999999999999,40.5,32.399999999999999,27.599999999999998,36.100000000000001,24.399999999999999,23.399999999999999,26.099999999999998,22.300000000000001,14.5,30.199999999999999,29.200000000000003,25,19.399999999999999,31.199999999999999,22.800000000000001,21.100000000000001,18.100000000000001,17.699999999999999,26,33.700000000000003,27.5,27.899999999999999,25,24.100000000000001,18.400000000000002,33.5,23.5,7,29.399999999999999,11.200000000000001,25.5],"text":["Switzerland <br> Total Payment (%)<br> 16.9 %","Luxembourg <br> Total Payment (%)<br> 29 %","Iceland <br> Total Payment (%)<br> 28.6 %","Germany <br> Total Payment (%)<br> 39.9 %","Netherlands <br> Total Payment (%)<br> 30.4 %","Belgium <br> Total Payment (%)<br> 40.5 %","Austria <br> Total Payment (%)<br> 32.4 %","Norway+J10:O38 <br> Total Payment (%)<br> 27.6 %","Denmark <br> Total Payment (%)<br> 36.1 %","Australia <br> Total Payment (%)<br> 24.4 %","United Kingdom <br> Total Payment (%)<br> 23.4 %","United States <br> Total Payment (%)<br> 26.1 %","Japan <br> Total Payment (%)<br> 22.3 %","Korea <br> Total Payment (%)<br> 14.5 %","Finland <br> Total Payment (%)<br> 30.2 %","France <br> Total Payment (%)<br> 29.2 %","Sweden <br> Total Payment (%)<br> 25 %","Ireland <br> Total Payment (%)<br> 19.4 %","Italy <br> Total Payment (%)<br> 31.2 %","Canada <br> Total Payment (%)<br> 22.8 %","Spain <br> Total Payment (%)<br> 21.1 %","New Zealand <br> Total Payment (%)<br> 18.1 %","Israel <br> Total Payment (%)<br> 17.7 %","Greece <br> Total Payment (%)<br> 26 %","Slovenia <br> Total Payment (%)<br> 33.7 %","Portugal <br> Total Payment (%)<br> 27.5 %","Turkey <br> Total Payment (%)<br> 27.9 %","Poland <br> Total Payment (%)<br> 25 %","Czech Republic <br> Total Payment (%)<br> 24.1 %","Estonia <br> Total Payment (%)<br> 18.4 %","Hungary <br> Total Payment (%)<br> 33.5 %","Slovak Republic <br> Total Payment (%)<br> 23.5 %","Chile <br> Total Payment (%)<br> 7 %","Latvia <br> Total Payment (%)<br> 29.4 %","Mexico <br> Total Payment (%)<br> 11.2 %","OECD Average <br> Total Payment (%)<br> 25.5 %"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(123,104,238,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Total Payment (%)","legendgroup":"Total Payment (%)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000036,0.89999999999999858,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.90000000000000213,0.89999999999999858,0.89999999999999991,0.89999999999999858,0.90000000000000013,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[4,25,24,35,29,36,31,22,34,15,12,20,10,3,28,26,17,8,30,11,9,6,5,19,33,21,23,16,14,7,32,13,1,27,2,18],"y":[10.699999999999999,16.699999999999999,28.300000000000001,19.100000000000001,17.300000000000001,26.5,14.4,19.399999999999999,36.100000000000001,24.399999999999999,14,18.399999999999999,7.9000000000000004,6.0999999999999996,20.899999999999999,14.800000000000001,18,15.4,21.699999999999999,15.4,14.699999999999999,18.100000000000001,9.6999999999999993,10,11.6,16.5,12.9,7.2000000000000002,13.1,16.800000000000001,15,10.1,0,18.899999999999999,9.8000000000000007,15.699999999999999],"text":["Switzerland <br> Income Tax (%)<br> 10.7 %","Luxembourg <br> Income Tax (%)<br> 16.7 %","Iceland <br> Income Tax (%)<br> 28.3 %","Germany <br> Income Tax (%)<br> 19.1 %","Netherlands <br> Income Tax (%)<br> 17.3 %","Belgium <br> Income Tax (%)<br> 26.5 %","Austria <br> Income Tax (%)<br> 14.4 %","Norway+J10:O38 <br> Income Tax (%)<br> 19.4 %","Denmark <br> Income Tax (%)<br> 36.1 %","Australia <br> Income Tax (%)<br> 24.4 %","United Kingdom <br> Income Tax (%)<br> 14 %","United States <br> Income Tax (%)<br> 18.4 %","Japan <br> Income Tax (%)<br> 7.9 %","Korea <br> Income Tax (%)<br> 6.1 %","Finland <br> Income Tax (%)<br> 20.9 %","France <br> Income Tax (%)<br> 14.8 %","Sweden <br> Income Tax (%)<br> 18 %","Ireland <br> Income Tax (%)<br> 15.4 %","Italy <br> Income Tax (%)<br> 21.7 %","Canada <br> Income Tax (%)<br> 15.4 %","Spain <br> Income Tax (%)<br> 14.7 %","New Zealand <br> Income Tax (%)<br> 18.1 %","Israel <br> Income Tax (%)<br> 9.7 %","Greece <br> Income Tax (%)<br> 10 %","Slovenia <br> Income Tax (%)<br> 11.6 %","Portugal <br> Income Tax (%)<br> 16.5 %","Turkey <br> Income Tax (%)<br> 12.9 %","Poland <br> Income Tax (%)<br> 7.2 %","Czech Republic <br> Income Tax (%)<br> 13.1 %","Estonia <br> Income Tax (%)<br> 16.8 %","Hungary <br> Income Tax (%)<br> 15 %","Slovak Republic <br> Income Tax (%)<br> 10.1 %","Chile <br> Income Tax (%)<br> 0 %","Latvia <br> Income Tax (%)<br> 18.9 %","Mexico <br> Income Tax (%)<br> 9.8 %","OECD Average <br> Income Tax (%)<br> 15.7 %"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,160,122,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Income Tax (%)","legendgroup":"Income Tax (%)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000036,0.89999999999999858,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.90000000000000568,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.90000000000000213,0.89999999999999858,0.89999999999999991,0.89999999999999858,0.90000000000000013,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[4,25,24,35,29,36,31,22,34,15,12,20,10,3,28,26,17,8,30,11,9,6,5,19,33,21,23,16,14,7,32,13,1,27,2,18],"y":[6.2000000000000002,12.300000000000001,0.29999999999999999,20.800000000000001,13.1,14,18,8.1999999999999993,0,0,9.4000000000000004,7.7000000000000002,14.4,8.4000000000000004,9.3000000000000007,14.4,7,4,9.5,7.4000000000000004,6.4000000000000004,0,8,16,22.100000000000001,11,15,17.800000000000001,11,1.6000000000000001,18.5,13.4,7,10.5,1.3999999999999999,9.8000000000000007],"text":["Switzerland <br> Employee Social Security Contributions (%)<br> 6.2 %","Luxembourg <br> Employee Social Security Contributions (%)<br> 12.3 %","Iceland <br> Employee Social Security Contributions (%)<br> 0.3 %","Germany <br> Employee Social Security Contributions (%)<br> 20.8 %","Netherlands <br> Employee Social Security Contributions (%)<br> 13.1 %","Belgium <br> Employee Social Security Contributions (%)<br> 14 %","Austria <br> Employee Social Security Contributions (%)<br> 18 %","Norway+J10:O38 <br> Employee Social Security Contributions (%)<br> 8.2 %","Denmark <br> Employee Social Security Contributions (%)<br> 0 %","Australia <br> Employee Social Security Contributions (%)<br> 0 %","United Kingdom <br> Employee Social Security Contributions (%)<br> 9.4 %","United States <br> Employee Social Security Contributions (%)<br> 7.7 %","Japan <br> Employee Social Security Contributions (%)<br> 14.4 %","Korea <br> Employee Social Security Contributions (%)<br> 8.4 %","Finland <br> Employee Social Security Contributions (%)<br> 9.3 %","France <br> Employee Social Security Contributions (%)<br> 14.4 %","Sweden <br> Employee Social Security Contributions (%)<br> 7 %","Ireland <br> Employee Social Security Contributions (%)<br> 4 %","Italy <br> Employee Social Security Contributions (%)<br> 9.5 %","Canada <br> Employee Social Security Contributions (%)<br> 7.4 %","Spain <br> Employee Social Security Contributions (%)<br> 6.4 %","New Zealand <br> Employee Social Security Contributions (%)<br> 0 %","Israel <br> Employee Social Security Contributions (%)<br> 8 %","Greece <br> Employee Social Security Contributions (%)<br> 16 %","Slovenia <br> Employee Social Security Contributions (%)<br> 22.1 %","Portugal <br> Employee Social Security Contributions (%)<br> 11 %","Turkey <br> Employee Social Security Contributions (%)<br> 15 %","Poland <br> Employee Social Security Contributions (%)<br> 17.8 %","Czech Republic <br> Employee Social Security Contributions (%)<br> 11 %","Estonia <br> Employee Social Security Contributions (%)<br> 1.6 %","Hungary <br> Employee Social Security Contributions (%)<br> 18.5 %","Slovak Republic <br> Employee Social Security Contributions (%)<br> 13.4 %","Chile <br> Employee Social Security Contributions (%)<br> 7 %","Latvia <br> Employee Social Security Contributions (%)<br> 10.5 %","Mexico <br> Employee Social Security Contributions (%)<br> 1.4 %","OECD Average <br> Employee Social Security Contributions (%)<br> 9.8 %"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(32,178,170,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Employee Social Security Contributions (%)","legendgroup":"Employee Social Security Contributions (%)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":116.16438356164387,"l":37.260273972602747},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Income Tax and Employee Social Security Contributions by Country","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,36.600000000000001],"tickmode":"array","ticktext":["Chile","Mexico","Korea","Switzerland","Israel","New Zealand","Estonia","Ireland","Spain","Japan","Canada","United Kingdom","Slovak Republic","Czech Republic","Australia","Poland","Sweden","OECD Average","Greece","United States","Portugal","Norway+J10:O38","Turkey","Iceland","Luxembourg","France","Latvia","Finland","Netherlands","Italy","Austria","Hungary","Slovenia","Denmark","Germany","Belgium"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25.000000000000004,26,27,28,29,30,31,32,33,34,35,36],"categoryorder":"array","categoryarray":["Chile","Mexico","Korea","Switzerland","Israel","New Zealand","Estonia","Ireland","Spain","Japan","Canada","United Kingdom","Slovak Republic","Czech Republic","Australia","Poland","Sweden","OECD Average","Greece","United States","Portugal","Norway+J10:O38","Turkey","Iceland","Luxembourg","France","Latvia","Finland","Netherlands","Italy","Austria","Hungary","Slovenia","Denmark","Germany","Belgium"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Country","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.0249999999999999,42.524999999999999],"tickmode":"array","ticktext":["0","10","20","30","40"],"tickvals":[0,10.000000000000002,20,30,40],"categoryorder":"array","categoryarray":["0","10","20","30","40"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Percentage (%)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Type of Tax","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2744260741d8":{"x":{},"y":{},"text":{},"fill":{},"type":"bar"},"27446d845817":{"x":{},"y":{},"text":{},"fill":{}},"27444eca9d8":{"x":{},"y":{},"text":{},"fill":{}}},"cur_data":"2744260741d8","visdat":{"2744260741d8":["function (y) ","x"],"27446d845817":["function (y) ","x"],"27444eca9d8":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the CSV file</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"dataset.csv"</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert Tax_amount column to numeric</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>Tax_amount <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, d<span class="sc">$</span>Tax_amount))</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the data by Tax_amount in ascending order</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>d_sorted <span class="ot">&lt;-</span> d[<span class="fu">order</span>(d<span class="sc">$</span>Tax_amount), ]</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Define visually pleasing colors for each country</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>country_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#1f77b4"</span>, <span class="st">"#ff7f0e"</span>, <span class="st">"#2ca02c"</span>, <span class="st">"#d62728"</span>, <span class="st">"#9467bd"</span>, <span class="st">"#8c564b"</span>, <span class="st">"#e377c2"</span>, <span class="st">"#7f7f7f"</span>, </span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"#bcbd22"</span>, <span class="st">"#17becf"</span>, <span class="st">"#aec7e8"</span>, <span class="st">"#ffbb78"</span>, <span class="st">"#98df8a"</span>, <span class="st">"#ff9896"</span>, <span class="st">"#c5b0d5"</span>, <span class="st">"#c49c94"</span>, </span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"#f7b6d2"</span>, <span class="st">"#c7c7c7"</span>, <span class="st">"#dbdb8d"</span>, <span class="st">"#9edae5"</span>, <span class="st">"#393b79"</span>, <span class="st">"#ff9896"</span>, <span class="st">"#aec7e8"</span>, <span class="st">"#17becf"</span>, </span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"#ffbb78"</span>, <span class="st">"#98df8a"</span>, <span class="st">"#ff7f0e"</span>, <span class="st">"#7f7f7f"</span>, <span class="st">"#c49c94"</span>, <span class="st">"#2ca02c"</span>, <span class="st">"#9467bd"</span>, <span class="st">"#8c564b"</span>, </span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"#e377c2"</span>, <span class="st">"#1f77b4"</span>, <span class="st">"#d62728"</span>, <span class="st">"#7fc97f"</span>)  </span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a ggplot object</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(d_sorted, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(Country, Tax_amount), <span class="at">y =</span> Tax_amount, <span class="at">fill =</span> Country, </span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>                              <span class="at">text =</span> <span class="fu">paste</span>( Country, <span class="st">"&lt;br&gt;Tax Amount:"</span>, Tax_amount))) <span class="sc">+</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> Tax_amount, <span class="at">y =</span> Tax_amount), </span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">y =</span> <span class="dv">500</span>), </span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> country_colors, <span class="at">fontface =</span> <span class="st">"bold"</span>) <span class="sc">+</span>  <span class="co"># Place Tax_amount on top of the bar with a gap</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> country_colors) <span class="sc">+</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Tax Amount by Country (Ascending Order)"</span>,</span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Country"</span>,</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Tax Amount"</span>) <span class="sc">+</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) </span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert ggplot object to plotly object</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>R <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(gg, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>))</span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the plot</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-90269b7e3bfa4ed32f24" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-90269b7e3bfa4ed32f24">{"x":{"data":[{"orientation":"v","width":0.89999999999999858,"base":0,"x":[24],"y":[13444],"text":"Australia <br>Tax Amount: 13444","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(31,119,180,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Australia","legendgroup":"Australia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[31],"y":[18656],"text":"Austria <br>Tax Amount: 18656","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,127,14,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Austria","legendgroup":"Austria","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000568,"base":0,"x":[35],"y":[23711],"text":"Belgium <br>Tax Amount: 23711","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(44,160,44,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Belgium","legendgroup":"Belgium","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[17],"y":[9344],"text":"Canada <br>Tax Amount: 9344","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(214,39,40,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Canada","legendgroup":"Canada","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000013,"base":0,"x":[2],"y":[1583],"text":"Chile <br>Tax Amount: 1583","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(148,103,189,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Chile","legendgroup":"Chile","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[6],"y":[6636],"text":"Czech Republic <br>Tax Amount: 6636","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(140,86,75,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Czech Republic","legendgroup":"Czech Republic","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000568,"base":0,"x":[34],"y":[20124],"text":"Denmark <br>Tax Amount: 20124","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(227,119,194,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Denmark","legendgroup":"Denmark","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[3],"y":[4930],"text":"Estonia <br>Tax Amount: 4930","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(127,127,127,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Estonia","legendgroup":"Estonia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[28],"y":[14802],"text":"Finland <br>Tax Amount: 14802","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(188,189,34,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Finland","legendgroup":"Finland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[27],"y":[14115],"text":"France <br>Tax Amount: 14115","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(23,190,207,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"France","legendgroup":"France","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000568,"base":0,"x":[36],"y":[25357],"text":"Germany <br>Tax Amount: 25357","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(174,199,232,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Germany","legendgroup":"Germany","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[16],"y":[9143],"text":"Greece <br>Tax Amount: 9143","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,187,120,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Greece","legendgroup":"Greece","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[14],"y":[8714],"text":"Hungary <br>Tax Amount: 8714","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(152,223,138,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Hungary","legendgroup":"Hungary","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[30],"y":[18271],"text":"Iceland <br>Tax Amount: 18271","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,152,150,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Iceland","legendgroup":"Iceland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[15],"y":[8748],"text":"Ireland <br>Tax Amount: 8748","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(197,176,213,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Ireland","legendgroup":"Ireland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[7],"y":[6941],"text":"Israel <br>Tax Amount: 6941","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(196,156,148,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Israel","legendgroup":"Israel","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[25],"y":[13511],"text":"Italy <br>Tax Amount: 13511","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(247,182,210,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Italy","legendgroup":"Italy","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[20],"y":[11807],"text":"Japan <br>Tax Amount: 11807","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(199,199,199,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Japan","legendgroup":"Japan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[10],"y":[7613],"text":"Korea <br>Tax Amount: 7613","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(219,219,141,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Korea","legendgroup":"Korea","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[5],"y":[6396],"text":"Latvia <br>Tax Amount: 6396","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(158,218,229,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Latvia","legendgroup":"Latvia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000213,"base":0,"x":[32],"y":[19123],"text":"Luxembourg <br>Tax Amount: 19123","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(57,59,121,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Luxembourg","legendgroup":"Luxembourg","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999991,"base":0,"x":[1],"y":[1426],"text":"Mexico <br>Tax Amount: 1426","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,152,150,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Mexico","legendgroup":"Mexico","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000568,"base":0,"x":[33],"y":[19146],"text":"Netherlands <br>Tax Amount: 19146","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(174,199,232,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Netherlands","legendgroup":"Netherlands","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[9],"y":[7209],"text":"New Zealand <br>Tax Amount: 7209","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(23,190,207,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"New Zealand","legendgroup":"New Zealand","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[29],"y":[15567],"text":"Norway+J10:O38 <br>Tax Amount: 15567","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,187,120,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Norway+J10:O38","legendgroup":"Norway+J10:O38","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[19],"y":[11167],"text":"OECD Average <br>Tax Amount: 11167","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(152,223,138,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"OECD Average","legendgroup":"OECD Average","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999947,"base":0,"x":[8],"y":[6982],"text":"Poland <br>Tax Amount: 6982","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,127,14,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Poland","legendgroup":"Poland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[12],"y":[8494],"text":"Portugal <br>Tax Amount: 8494","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(127,127,127,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Portugal","legendgroup":"Portugal","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[4],"y":[5519],"text":"Slovak Republic <br>Tax Amount: 5519","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(196,156,148,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Slovak Republic","legendgroup":"Slovak Republic","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[18],"y":[10588],"text":"Slovenia <br>Tax Amount: 10588","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(44,160,44,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Slovenia","legendgroup":"Slovenia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[13],"y":[8535],"text":"Spain <br>Tax Amount: 8535","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(148,103,189,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Spain","legendgroup":"Spain","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[21],"y":[11914],"text":"Sweden <br>Tax Amount: 11914","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(140,86,75,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Sweden","legendgroup":"Sweden","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[22],"y":[11971],"text":"Switzerland <br>Tax Amount: 11971","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(227,119,194,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Switzerland","legendgroup":"Switzerland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[11],"y":[8164],"text":"Turkey <br>Tax Amount: 8164","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(31,119,180,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Turkey","legendgroup":"Turkey","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[23],"y":[12711],"text":"United Kingdom <br>Tax Amount: 12711","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(214,39,40,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"United Kingdom","legendgroup":"United Kingdom","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[26],"y":[13777],"text":"United States <br>Tax Amount: 13777","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(127,201,127,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"United States","legendgroup":"United States","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24],"y":[13944],"text":13444,"hovertext":"Australia <br>Tax Amount: 13444","textfont":{"size":11.338582677165356,"color":"rgba(23,190,207,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Australia","legendgroup":"Australia","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[31],"y":[19156],"text":18656,"hovertext":"Austria <br>Tax Amount: 18656","textfont":{"size":11.338582677165356,"color":"rgba(148,103,189,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Austria","legendgroup":"Austria","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[35],"y":[24211],"text":23711,"hovertext":"Belgium <br>Tax Amount: 23711","textfont":{"size":11.338582677165356,"color":"rgba(214,39,40,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Belgium","legendgroup":"Belgium","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[17],"y":[9844],"text":9344,"hovertext":"Canada <br>Tax Amount: 9344","textfont":{"size":11.338582677165356,"color":"rgba(247,182,210,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Canada","legendgroup":"Canada","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2],"y":[2083],"text":1583,"hovertext":"Chile <br>Tax Amount: 1583","textfont":{"size":11.338582677165356,"color":"rgba(255,127,14,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Chile","legendgroup":"Chile","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[6],"y":[7136],"text":6636,"hovertext":"Czech Republic <br>Tax Amount: 6636","textfont":{"size":11.338582677165356,"color":"rgba(140,86,75,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Czech Republic","legendgroup":"Czech Republic","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[34],"y":[20624],"text":20124,"hovertext":"Denmark <br>Tax Amount: 20124","textfont":{"size":11.338582677165356,"color":"rgba(31,119,180,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Denmark","legendgroup":"Denmark","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3],"y":[5430],"text":4930,"hovertext":"Estonia <br>Tax Amount: 4930","textfont":{"size":11.338582677165356,"color":"rgba(44,160,44,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Estonia","legendgroup":"Estonia","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28],"y":[15302],"text":14802,"hovertext":"Finland <br>Tax Amount: 14802","textfont":{"size":11.338582677165356,"color":"rgba(127,127,127,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Finland","legendgroup":"Finland","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[27],"y":[14615],"text":14115,"hovertext":"France <br>Tax Amount: 14115","textfont":{"size":11.338582677165356,"color":"rgba(255,127,14,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"France","legendgroup":"France","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[36],"y":[25857],"text":25357,"hovertext":"Germany <br>Tax Amount: 25357","textfont":{"size":11.338582677165356,"color":"rgba(127,201,127,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Germany","legendgroup":"Germany","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[16],"y":[9643],"text":9143,"hovertext":"Greece <br>Tax Amount: 9143","textfont":{"size":11.338582677165356,"color":"rgba(196,156,148,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Greece","legendgroup":"Greece","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[14],"y":[9214],"text":8714,"hovertext":"Hungary <br>Tax Amount: 8714","textfont":{"size":11.338582677165356,"color":"rgba(255,152,150,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Hungary","legendgroup":"Hungary","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[30],"y":[18771],"text":18271,"hovertext":"Iceland <br>Tax Amount: 18271","textfont":{"size":11.338582677165356,"color":"rgba(44,160,44,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Iceland","legendgroup":"Iceland","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[15],"y":[9248],"text":8748,"hovertext":"Ireland <br>Tax Amount: 8748","textfont":{"size":11.338582677165356,"color":"rgba(197,176,213,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Ireland","legendgroup":"Ireland","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[7],"y":[7441],"text":6941,"hovertext":"Israel <br>Tax Amount: 6941","textfont":{"size":11.338582677165356,"color":"rgba(227,119,194,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Israel","legendgroup":"Israel","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[25],"y":[14011],"text":13511,"hovertext":"Italy <br>Tax Amount: 13511","textfont":{"size":11.338582677165356,"color":"rgba(255,187,120,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Italy","legendgroup":"Italy","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[20],"y":[12307],"text":11807,"hovertext":"Japan <br>Tax Amount: 11807","textfont":{"size":11.338582677165356,"color":"rgba(158,218,229,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Japan","legendgroup":"Japan","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[10],"y":[8113],"text":7613,"hovertext":"Korea <br>Tax Amount: 7613","textfont":{"size":11.338582677165356,"color":"rgba(23,190,207,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Korea","legendgroup":"Korea","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5],"y":[6896],"text":6396,"hovertext":"Latvia <br>Tax Amount: 6396","textfont":{"size":11.338582677165356,"color":"rgba(148,103,189,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Latvia","legendgroup":"Latvia","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[32],"y":[19623],"text":19123,"hovertext":"Luxembourg <br>Tax Amount: 19123","textfont":{"size":11.338582677165356,"color":"rgba(140,86,75,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Luxembourg","legendgroup":"Luxembourg","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[1926],"text":1426,"hovertext":"Mexico <br>Tax Amount: 1426","textfont":{"size":11.338582677165356,"color":"rgba(31,119,180,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Mexico","legendgroup":"Mexico","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[33],"y":[19646],"text":19146,"hovertext":"Netherlands <br>Tax Amount: 19146","textfont":{"size":11.338582677165356,"color":"rgba(227,119,194,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Netherlands","legendgroup":"Netherlands","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[9],"y":[7709],"text":7209,"hovertext":"New Zealand <br>Tax Amount: 7209","textfont":{"size":11.338582677165356,"color":"rgba(188,189,34,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"New Zealand","legendgroup":"New Zealand","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[29],"y":[16067],"text":15567,"hovertext":"Norway+J10:O38 <br>Tax Amount: 15567","textfont":{"size":11.338582677165356,"color":"rgba(196,156,148,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Norway+J10:O38","legendgroup":"Norway+J10:O38","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19],"y":[11667],"text":11167,"hovertext":"OECD Average <br>Tax Amount: 11167","textfont":{"size":11.338582677165356,"color":"rgba(219,219,141,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"OECD Average","legendgroup":"OECD Average","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[8],"y":[7482],"text":6982,"hovertext":"Poland <br>Tax Amount: 6982","textfont":{"size":11.338582677165356,"color":"rgba(127,127,127,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Poland","legendgroup":"Poland","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[12],"y":[8994],"text":8494,"hovertext":"Portugal <br>Tax Amount: 8494","textfont":{"size":11.338582677165356,"color":"rgba(255,187,120,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Portugal","legendgroup":"Portugal","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4],"y":[6019],"text":5519,"hovertext":"Slovak Republic <br>Tax Amount: 5519","textfont":{"size":11.338582677165356,"color":"rgba(214,39,40,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Slovak Republic","legendgroup":"Slovak Republic","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18],"y":[11088],"text":10588,"hovertext":"Slovenia <br>Tax Amount: 10588","textfont":{"size":11.338582677165356,"color":"rgba(199,199,199,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Slovenia","legendgroup":"Slovenia","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[13],"y":[9035],"text":8535,"hovertext":"Spain <br>Tax Amount: 8535","textfont":{"size":11.338582677165356,"color":"rgba(152,223,138,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Spain","legendgroup":"Spain","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[21],"y":[12414],"text":11914,"hovertext":"Sweden <br>Tax Amount: 11914","textfont":{"size":11.338582677165356,"color":"rgba(57,59,121,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Sweden","legendgroup":"Sweden","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[22],"y":[12471],"text":11971,"hovertext":"Switzerland <br>Tax Amount: 11971","textfont":{"size":11.338582677165356,"color":"rgba(255,152,150,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Switzerland","legendgroup":"Switzerland","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[11],"y":[8664],"text":8164,"hovertext":"Turkey <br>Tax Amount: 8164","textfont":{"size":11.338582677165356,"color":"rgba(174,199,232,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Turkey","legendgroup":"Turkey","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23],"y":[13211],"text":12711,"hovertext":"United Kingdom <br>Tax Amount: 12711","textfont":{"size":11.338582677165356,"color":"rgba(174,199,232,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"United Kingdom","legendgroup":"United Kingdom","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26],"y":[14277],"text":13777,"hovertext":"United States <br>Tax Amount: 13777","textfont":{"size":11.338582677165356,"color":"rgba(152,223,138,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"United States","legendgroup":"United States","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":74.956356961893121,"l":54.794520547945211},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Tax Amount by Country (Ascending Order)","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,36.600000000000001],"tickmode":"array","ticktext":["Mexico","Chile","Estonia","Slovak Republic","Latvia","Czech Republic","Israel","Poland","New Zealand","Korea","Turkey","Portugal","Spain","Hungary","Ireland","Greece","Canada","Slovenia","OECD Average","Japan","Sweden","Switzerland","United Kingdom","Australia","Italy","United States","France","Finland","Norway+J10:O38","Iceland","Austria","Luxembourg","Netherlands","Denmark","Belgium","Germany"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25.000000000000004,26,27,28,29,30,31,32,33,34,35,36],"categoryorder":"array","categoryarray":["Mexico","Chile","Estonia","Slovak Republic","Latvia","Czech Republic","Israel","Poland","New Zealand","Korea","Turkey","Portugal","Spain","Hungary","Ireland","Greece","Canada","Slovenia","OECD Average","Japan","Sweden","Switzerland","United Kingdom","Australia","Italy","United States","France","Finland","Norway+J10:O38","Iceland","Austria","Luxembourg","Netherlands","Denmark","Belgium","Germany"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Country","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1292.8500000000001,27149.849999999999],"tickmode":"array","ticktext":["0","10000","20000"],"tickvals":[0,10000,20000],"categoryorder":"array","categoryarray":["0","10000","20000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Tax Amount","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Country","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"27444fed2b6f":{"x":{},"y":{},"fill":{},"text":{},"type":"bar"},"27445ec84e8d":{"x":{},"y":{},"fill":{},"text":{},"label":{}}},"cur_data":"27444fed2b6f","visdat":{"27444fed2b6f":["function (y) ","x"],"27445ec84e8d":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load your dataset</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"dataset.csv"</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns with simpler names</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(d1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Country"</span>, <span class="st">"Total_payment"</span>, <span class="st">"Income_tax"</span>, <span class="st">"Employee_social_security_contributions"</span>, <span class="st">"Gross_wage_earnings"</span>, <span class="st">"Wages_earning_After_Taxes"</span>, <span class="st">"Tax_amount"</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove commas and convert to numeric</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>d1<span class="sc">$</span>Gross_wage_earnings <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, d1<span class="sc">$</span>Gross_wage_earnings))</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>d1<span class="sc">$</span>Wages_earning_After_Taxes <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, d1<span class="sc">$</span>Wages_earning_After_Taxes))</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>d1<span class="sc">$</span>Tax_amount <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, d1<span class="sc">$</span>Tax_amount))</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign colors to countries</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>country_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#1f77b4"</span>, <span class="st">"#ff7f0e"</span>, <span class="st">"#2ca02c"</span>, <span class="st">"#d62728"</span>, <span class="st">"#9467bd"</span>, <span class="st">"#8c564b"</span>, <span class="st">"#e377c2"</span>, <span class="st">"#7f7f7f"</span>, </span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"#bcbd22"</span>, <span class="st">"#17becf"</span>, <span class="st">"#aec7e8"</span>, <span class="st">"#ffbb78"</span>, <span class="st">"#98df8a"</span>, <span class="st">"#ff9896"</span>, <span class="st">"#c5b0d5"</span>, <span class="st">"#c49c94"</span>, </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"#f7b6d2"</span>, <span class="st">"#c7c7c7"</span>, <span class="st">"#dbdb8d"</span>, <span class="st">"#9edae5"</span>, <span class="st">"#393b79"</span>, <span class="st">"#ff9896"</span>, <span class="st">"#aec7e8"</span>, <span class="st">"#17becf"</span>, </span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"#ffbb78"</span>, <span class="st">"#98df8a"</span>, <span class="st">"#ff7f0e"</span>, <span class="st">"#7f7f7f"</span>, <span class="st">"#c49c94"</span>, <span class="st">"#2ca02c"</span>, <span class="st">"#9467bd"</span>, <span class="st">"#8c564b"</span>, </span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"#e377c2"</span>, <span class="st">"#1f77b4"</span>, <span class="st">"#d62728"</span>, <span class="st">"#7fc97f"</span>)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a scatter plot with adjusted sizes based on Tax Amount</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(d1, <span class="fu">aes</span>(<span class="at">x =</span> Gross_wage_earnings, <span class="at">y =</span> Wages_earning_After_Taxes, </span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>                    <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Country: "</span>, Country, <span class="st">"&lt;br&gt;Total Payment (%): "</span>, Total_payment, </span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"&lt;br&gt;Income Tax (%): "</span>, Income_tax, </span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"&lt;br&gt;Employee Social Security Contributions (%): "</span>, Employee_social_security_contributions, </span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"&lt;br&gt;Gross Wage Earnings: "</span>, Gross_wage_earnings, </span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"&lt;br&gt;Wages Earning After Taxes: "</span>, Wages_earning_After_Taxes, </span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"&lt;br&gt;Tax Amount: "</span>, Tax_amount), </span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>                    <span class="at">size =</span> Tax_amount, <span class="at">fill =</span> Country)) <span class="sc">+</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">21</span>) <span class="sc">+</span> <span class="co"># Custom point shape</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>), <span class="at">guide =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="co"># Hide size legend</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> country_colors, <span class="at">name =</span> <span class="st">"Country"</span>, <span class="at">guide =</span> <span class="st">"legend"</span>) <span class="sc">+</span> <span class="co"># Specify legend label for fill and hide size legend</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Gross Wage Earnings"</span>, <span class="at">y =</span> <span class="st">"Wages Earning After Taxes"</span>, <span class="at">title =</span> <span class="st">"Gross Wage Earnings vs. Wages Earning After Taxes"</span>) <span class="sc">+</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">80000</span>, <span class="at">by =</span> <span class="dv">10000</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">80000</span>)) <span class="sc">+</span></span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">80000</span>, <span class="at">by =</span> <span class="dv">10000</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">80000</span>)) <span class="sc">+</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"right"</span>) <span class="co"># Show the legend on the right side</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to interactive plot with plotly</span></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>pp <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p, <span class="at">tooltip =</span> <span class="st">"text"</span>)</span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>pp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-ae561bcff94253984383" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-ae561bcff94253984383">{"x":{"data":[{"x":[55099],"y":[41655],"text":"Country:  Australia <br>Total Payment (%):  24.4 <br>Income Tax (%):  24.4 <br>Employee Social Security Contributions (%):  0 <br>Gross Wage Earnings:  55099 <br>Wages Earning After Taxes:  41655 <br>Tax Amount:  13444","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,119,180,1)","opacity":1,"size":27.885003036780958,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Australia","legendgroup":"Australia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[57581],"y":[38925],"text":"Country:  Austria <br>Total Payment (%):  32.4 <br>Income Tax (%):  14.4 <br>Employee Social Security Contributions (%):  18 <br>Gross Wage Earnings:  57581 <br>Wages Earning After Taxes:  38925 <br>Tax Amount:  18656","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,127,14,1)","opacity":1,"size":32.642578854530967,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Austria","legendgroup":"Austria","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[58545],"y":[34834],"text":"Country:  Belgium <br>Total Payment (%):  40.5 <br>Income Tax (%):  26.5 <br>Employee Social Security Contributions (%):  14 <br>Gross Wage Earnings:  58545 <br>Wages Earning After Taxes:  34834 <br>Tax Amount:  23711","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(44,160,44,1)","opacity":1,"size":36.604617269620853,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Belgium","legendgroup":"Belgium","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[40983],"y":[31639],"text":"Country:  Canada <br>Total Payment (%):  22.8 <br>Income Tax (%):  15.4 <br>Employee Social Security Contributions (%):  7.4 <br>Gross Wage Earnings:  40983 <br>Wages Earning After Taxes:  31639 <br>Tax Amount:  9344","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(214,39,40,1)","opacity":1,"size":23.345766427871247,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Canada","legendgroup":"Canada","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[22616],"y":[21033],"text":"Country:  Chile <br>Total Payment (%):  7 <br>Income Tax (%):  0 <br>Employee Social Security Contributions (%):  7 <br>Gross Wage Earnings:  22616 <br>Wages Earning After Taxes:  21033 <br>Tax Amount:  1583","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(148,103,189,1)","opacity":1,"size":6.5347040791005817,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Chile","legendgroup":"Chile","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[27536],"y":[20900],"text":"Country:  Czech Republic <br>Total Payment (%):  24.1 <br>Income Tax (%):  13.1 <br>Employee Social Security Contributions (%):  11 <br>Gross Wage Earnings:  27536 <br>Wages Earning After Taxes:  20900 <br>Tax Amount:  6636","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(140,86,75,1)","opacity":1,"size":19.651045491217051,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Czech Republic","legendgroup":"Czech Republic","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56211],"y":[36087],"text":"Country:  Denmark <br>Total Payment (%):  35.8 <br>Income Tax (%):  36.1 <br>Employee Social Security Contributions (%):  0 <br>Gross Wage Earnings:  56211 <br>Wages Earning After Taxes:  36087 <br>Tax Amount:  20124","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(227,119,194,1)","opacity":1,"size":33.847017904771526,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Denmark","legendgroup":"Denmark","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26796],"y":[21866],"text":"Country:  Estonia <br>Total Payment (%):  18.4 <br>Income Tax (%):  16.8 <br>Employee Social Security Contributions (%):  1.6 <br>Gross Wage Earnings:  26796 <br>Wages Earning After Taxes:  21866 <br>Tax Amount:  4930","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(127,127,127,1)","opacity":1,"size":16.795650776921509,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Estonia","legendgroup":"Estonia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[49013],"y":[34211],"text":"Country:  Finland <br>Total Payment (%):  30.2 <br>Income Tax (%):  20.9 <br>Employee Social Security Contributions (%):  9.3 <br>Gross Wage Earnings:  49013 <br>Wages Earning After Taxes:  34211 <br>Tax Amount:  14802","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(188,189,34,1)","opacity":1,"size":29.210486255528586,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Finland","legendgroup":"Finland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[48339],"y":[34224],"text":"Country:  France <br>Total Payment (%):  29.2 <br>Income Tax (%):  14.8 <br>Employee Social Security Contributions (%):  14.4 <br>Gross Wage Earnings:  48339 <br>Wages Earning After Taxes:  34224 <br>Tax Amount:  14115","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(23,190,207,1)","opacity":1,"size":28.548802915555321,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"France","legendgroup":"France","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[63551],"y":[38194],"text":"Country:  Germany <br>Total Payment (%):  39.9 <br>Income Tax (%):  19.1 <br>Employee Social Security Contributions (%):  20.8 <br>Gross Wage Earnings:  63551 <br>Wages Earning After Taxes:  38194 <br>Tax Amount:  25357","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(174,199,232,1)","opacity":1,"size":37.795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Germany","legendgroup":"Germany","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[35165],"y":[26022],"text":"Country:  Greece <br>Total Payment (%):  26 <br>Income Tax (%):  10 <br>Employee Social Security Contributions (%):  16 <br>Gross Wage Earnings:  35165 <br>Wages Earning After Taxes:  26022 <br>Tax Amount:  9143","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,187,120,1)","opacity":1,"size":23.095823592688703,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Greece","legendgroup":"Greece","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26012],"y":[17298],"text":"Country:  Hungary <br>Total Payment (%):  33.5 <br>Income Tax (%):  15 <br>Employee Social Security Contributions (%):  18.5 <br>Gross Wage Earnings:  26012 <br>Wages Earning After Taxes:  17298 <br>Tax Amount:  8714","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(152,223,138,1)","opacity":1,"size":22.551235319353356,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Hungary","legendgroup":"Hungary","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[63661],"y":[45390],"text":"Country:  Iceland <br>Total Payment (%):  28.7 <br>Income Tax (%):  28.3 <br>Employee Social Security Contributions (%):  0.3 <br>Gross Wage Earnings:  63661 <br>Wages Earning After Taxes:  45390 <br>Tax Amount:  18271","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,152,150,1)","opacity":1,"size":32.318288275321954,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Iceland","legendgroup":"Iceland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[45093],"y":[36345],"text":"Country:  Ireland <br>Total Payment (%):  19.4 <br>Income Tax (%):  15.4 <br>Employee Social Security Contributions (%):  4 <br>Gross Wage Earnings:  45093 <br>Wages Earning After Taxes:  36345 <br>Tax Amount:  8748","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(197,176,213,1)","opacity":1,"size":22.594971283787753,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Ireland","legendgroup":"Ireland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[39215],"y":[32274],"text":"Country:  Israel <br>Total Payment (%):  17.7 <br>Income Tax (%):  9.7 <br>Employee Social Security Contributions (%):  8 <br>Gross Wage Earnings:  39215 <br>Wages Earning After Taxes:  32274 <br>Tax Amount:  6941","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,156,148,1)","opacity":1,"size":20.109007772835646,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Israel","legendgroup":"Israel","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[43304],"y":[29793],"text":"Country:  Italy <br>Total Payment (%):  31.2 <br>Income Tax (%):  21.7 <br>Employee Social Security Contributions (%):  9.5 <br>Gross Wage Earnings:  43304 <br>Wages Earning After Taxes:  29793 <br>Tax Amount:  13511","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(247,182,210,1)","opacity":1,"size":27.952103308130265,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Italy","legendgroup":"Italy","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[52946],"y":[41139],"text":"Country:  Japan <br>Total Payment (%):  22.3 <br>Income Tax (%):  7.9 <br>Employee Social Security Contributions (%):  14.4 <br>Gross Wage Earnings:  52946 <br>Wages Earning After Taxes:  41139 <br>Tax Amount:  11807","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(199,199,199,1)","opacity":1,"size":26.183199157782173,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Japan","legendgroup":"Japan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[52505],"y":[44892],"text":"Country:  Korea <br>Total Payment (%):  14.5 <br>Income Tax (%):  6.1 <br>Employee Social Security Contributions (%):  8.4 <br>Gross Wage Earnings:  52505 <br>Wages Earning After Taxes:  44892 <br>Tax Amount:  7613","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(219,219,141,1)","opacity":1,"size":21.07528796542875,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Korea","legendgroup":"Korea","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[21755],"y":[15359],"text":"Country:  Latvia <br>Total Payment (%):  29.4 <br>Income Tax (%):  18.9 <br>Employee Social Security Contributions (%):  10.5 <br>Gross Wage Earnings:  21755 <br>Wages Earning After Taxes:  15359 <br>Tax Amount:  6396","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(158,218,229,1)","opacity":1,"size":19.281172911083694,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Latvia","legendgroup":"Latvia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[65716],"y":[46593],"text":"Country:  Luxembourg <br>Total Payment (%):  29.1 <br>Income Tax (%):  16.7 <br>Employee Social Security Contributions (%):  12.3 <br>Gross Wage Earnings:  65716 <br>Wages Earning After Taxes:  46593 <br>Tax Amount:  19123","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(57,59,121,1)","opacity":1,"size":33.031114214156723,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Luxembourg","legendgroup":"Luxembourg","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[12730],"y":[11304],"text":"Country:  Mexico <br>Total Payment (%):  11.2 <br>Income Tax (%):  9.8 <br>Employee Social Security Contributions (%):  1.4 <br>Gross Wage Earnings:  12730 <br>Wages Earning After Taxes:  11304 <br>Tax Amount:  1426","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,152,150,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Mexico","legendgroup":"Mexico","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[62981],"y":[43835],"text":"Country:  Netherlands <br>Total Payment (%):  30.4 <br>Income Tax (%):  17.3 <br>Employee Social Security Contributions (%):  13.1 <br>Gross Wage Earnings:  62981 <br>Wages Earning After Taxes:  43835 <br>Tax Amount:  19146","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(174,199,232,1)","opacity":1,"size":33.05011653198936,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Netherlands","legendgroup":"Netherlands","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[39826],"y":[32617],"text":"Country:  New Zealand <br>Total Payment (%):  18.1 <br>Income Tax (%):  18.1 <br>Employee Social Security Contributions (%):  0 <br>Gross Wage Earnings:  39826 <br>Wages Earning After Taxes:  32617 <br>Tax Amount:  7209","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(23,190,207,1)","opacity":1,"size":20.501064731288608,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"New Zealand","legendgroup":"New Zealand","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56401],"y":[40834],"text":"Country:  Norway+J10:O38 <br>Total Payment (%):  27.6 <br>Income Tax (%):  19.4 <br>Employee Social Security Contributions (%):  8.2 <br>Gross Wage Earnings:  56401 <br>Wages Earning After Taxes:  40834 <br>Tax Amount:  15567","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,187,120,1)","opacity":1,"size":29.92759904499616,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Norway+J10:O38","legendgroup":"Norway+J10:O38","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[43791],"y":[32624],"text":"Country:  OECD Average <br>Total Payment (%):  25.5 <br>Income Tax (%):  15.7 <br>Employee Social Security Contributions (%):  9.8 <br>Gross Wage Earnings:  43791 <br>Wages Earning After Taxes:  32624 <br>Tax Amount:  11167","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(152,223,138,1)","opacity":1,"size":25.481608261942267,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"OECD Average","legendgroup":"OECD Average","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[27816],"y":[20834],"text":"Country:  Poland <br>Total Payment (%):  25.1 <br>Income Tax (%):  7.2 <br>Employee Social Security Contributions (%):  17.8 <br>Gross Wage Earnings:  27816 <br>Wages Earning After Taxes:  20834 <br>Tax Amount:  6982","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,127,14,1)","opacity":1,"size":20.169594261103846,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Poland","legendgroup":"Poland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[30888],"y":[22394],"text":"Country:  Portugal <br>Total Payment (%):  27.5 <br>Income Tax (%):  16.5 <br>Employee Social Security Contributions (%):  11 <br>Gross Wage Earnings:  30888 <br>Wages Earning After Taxes:  22394 <br>Tax Amount:  8494","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(127,127,127,1)","opacity":1,"size":22.265737161298574,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Portugal","legendgroup":"Portugal","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23484],"y":[17965],"text":"Country:  Slovak Republic <br>Total Payment (%):  23.5 <br>Income Tax (%):  10.1 <br>Employee Social Security Contributions (%):  13.4 <br>Gross Wage Earnings:  23484 <br>Wages Earning After Taxes:  17965 <br>Tax Amount:  5519","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(196,156,148,1)","opacity":1,"size":17.847142581184983,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Slovak Republic","legendgroup":"Slovak Republic","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[31417],"y":[20829],"text":"Country:  Slovenia <br>Total Payment (%):  33.7 <br>Income Tax (%):  11.6 <br>Employee Social Security Contributions (%):  22.1 <br>Gross Wage Earnings:  31417 <br>Wages Earning After Taxes:  20829 <br>Tax Amount:  10588","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(44,160,44,1)","opacity":1,"size":24.82674782877022,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Slovenia","legendgroup":"Slovenia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[40451],"y":[31916],"text":"Country:  Spain <br>Total Payment (%):  21.1 <br>Income Tax (%):  14.7 <br>Employee Social Security Contributions (%):  6.4 <br>Gross Wage Earnings:  40451 <br>Wages Earning After Taxes:  31916 <br>Tax Amount:  8535","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(148,103,189,1)","opacity":1,"size":22.31927696144551,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Spain","legendgroup":"Spain","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[47658],"y":[35744],"text":"Country:  Sweden <br>Total Payment (%):  25 <br>Income Tax (%):  18 <br>Employee Social Security Contributions (%):  7 <br>Gross Wage Earnings:  47658 <br>Wages Earning After Taxes:  35744 <br>Tax Amount:  11914","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(140,86,75,1)","opacity":1,"size":26.29836375418196,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Sweden","legendgroup":"Sweden","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[70835],"y":[58864],"text":"Country:  Switzerland <br>Total Payment (%):  16.9 <br>Income Tax (%):  10.7 <br>Employee Social Security Contributions (%):  6.2 <br>Gross Wage Earnings:  70835 <br>Wages Earning After Taxes:  58864 <br>Tax Amount:  11971","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(227,119,194,1)","opacity":1,"size":26.359473327037733,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Switzerland","legendgroup":"Switzerland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[29263],"y":[21099],"text":"Country:  Turkey <br>Total Payment (%):  27.9 <br>Income Tax (%):  12.9 <br>Employee Social Security Contributions (%):  15 <br>Gross Wage Earnings:  29263 <br>Wages Earning After Taxes:  21099 <br>Tax Amount:  8164","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,119,180,1)","opacity":1,"size":21.829024651443429,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"Turkey","legendgroup":"Turkey","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[54319],"y":[41608],"text":"Country:  United Kingdom <br>Total Payment (%):  23.4 <br>Income Tax (%):  14 <br>Employee Social Security Contributions (%):  9.4 <br>Gross Wage Earnings:  54319 <br>Wages Earning After Taxes:  41608 <br>Tax Amount:  12711","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(214,39,40,1)","opacity":1,"size":27.138319811835384,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"United Kingdom","legendgroup":"United Kingdom","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[52988],"y":[39211],"text":"Country:  United States <br>Total Payment (%):  26 <br>Income Tax (%):  18.4 <br>Employee Social Security Contributions (%):  7.7 <br>Gross Wage Earnings:  52988 <br>Wages Earning After Taxes:  39211 <br>Tax Amount:  13777","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(127,201,127,1)","opacity":1,"size":28.216683676079498,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","name":"United States","legendgroup":"United States","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":54.794520547945211},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Gross Wage Earnings vs. Wages Earning After Taxes","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-4000,84000],"tickmode":"array","ticktext":["0","10000","20000","30000","40000","50000","60000","70000","80000"],"tickvals":[0,10000,20000,30000,40000,50000,60000,70000,80000],"categoryorder":"array","categoryarray":["0","10000","20000","30000","40000","50000","60000","70000","80000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Gross Wage Earnings","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-4000,84000],"tickmode":"array","ticktext":["0","10000","20000","30000","40000","50000","60000","70000","80000"],"tickvals":[0,10000,20000,30000,40000,50000,60000,70000,80000],"categoryorder":"array","categoryarray":["0","10000","20000","30000","40000","50000","60000","70000","80000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Wages Earning After Taxes","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Country","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"2744197e2a5c":{"x":{},"y":{},"text":{},"size":{},"fill":{},"type":"scatter"}},"cur_data":"2744197e2a5c","visdat":{"2744197e2a5c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr) <span class="co"># Add this line to load the tidyr package</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'dataset' is already loaded and exists in your environment</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>dataset<span class="sc">$</span>Gross_wage_earnings <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">$"</span>, <span class="st">""</span>, dataset<span class="sc">$</span>Gross_wage_earnings)))</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>dataset<span class="sc">$</span>Wages_earning_After_Taxes <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">$"</span>, <span class="st">""</span>, dataset<span class="sc">$</span>Wages_earning_After_Taxes)))</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co"># It might be necessary to ensure 'Country' is a factor for plotting</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>dataset<span class="sc">$</span>Country <span class="ot">&lt;-</span> <span class="fu">factor</span>(dataset<span class="sc">$</span>Country, <span class="at">levels =</span> <span class="fu">unique</span>(dataset<span class="sc">$</span>Country))</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Reshape the data for easier plotting</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> dataset <span class="sc">%&gt;%</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Country, Gross_wage_earnings, Wages_earning_After_Taxes) <span class="sc">%&gt;%</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>Country, <span class="at">names_to =</span> <span class="st">"Earnings_Type"</span>, <span class="at">values_to =</span> <span class="st">"Amount"</span>)</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the ggplot</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>q <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> Country, <span class="at">y =</span> Amount, <span class="at">fill =</span> Earnings_Type)) <span class="sc">+</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Gross_wage_earnings"</span> <span class="ot">=</span> <span class="st">"#69b3a2"</span>, <span class="st">"Wages_earning_After_Taxes"</span> <span class="ot">=</span> <span class="st">"#404080"</span>)) <span class="sc">+</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Gross Wage Earnings vs. Wages Earning After Taxes by Country"</span>,</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Country"</span>,</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Amount"</span>) <span class="sc">+</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">65</span>, <span class="at">vjust =</span> <span class="fl">0.6</span>))</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert ggplot object to plotly for interactivity</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>p_interactive <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(q)</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>p_interactive</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-bcbb1715a032015be823" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-bcbb1715a032015be823">{"x":{"data":[{"orientation":"v","width":[0.44999999999999996,0.45000000000000018,0.45000000000000018,0.45000000000000018,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[0.77500000000000002,1.7749999999999999,2.7749999999999999,3.7749999999999999,4.7750000000000004,5.7750000000000004,6.7750000000000004,7.7750000000000004,8.7750000000000004,9.7750000000000004,10.775,11.775,12.775,13.775,14.775,15.775,16.774999999999999,17.774999999999999,18.774999999999999,19.774999999999999,20.774999999999999,21.774999999999999,22.774999999999999,23.774999999999999,24.774999999999999,25.774999999999999,26.774999999999999,27.774999999999999,28.774999999999999,29.774999999999999,30.774999999999999,31.774999999999999,32.774999999999999,33.774999999999999,34.774999999999999,35.774999999999999],"y":[70835,65716,63661,63551,62981,58545,57581,56401,56211,55099,54319,52988,52946,52505,49013,48339,47658,45093,43304,40983,40451,39826,39215,35165,31417,30888,29263,27816,27536,26796,26012,23484,22616,21755,12730,43791],"text":["Country: Switzerland<br />Amount: 70835<br />Earnings_Type: Gross_wage_earnings","Country: Luxembourg<br />Amount: 65716<br />Earnings_Type: Gross_wage_earnings","Country: Iceland<br />Amount: 63661<br />Earnings_Type: Gross_wage_earnings","Country: Germany<br />Amount: 63551<br />Earnings_Type: Gross_wage_earnings","Country: Netherlands<br />Amount: 62981<br />Earnings_Type: Gross_wage_earnings","Country: Belgium<br />Amount: 58545<br />Earnings_Type: Gross_wage_earnings","Country: Austria<br />Amount: 57581<br />Earnings_Type: Gross_wage_earnings","Country: Norway+J10:O38<br />Amount: 56401<br />Earnings_Type: Gross_wage_earnings","Country: Denmark<br />Amount: 56211<br />Earnings_Type: Gross_wage_earnings","Country: Australia<br />Amount: 55099<br />Earnings_Type: Gross_wage_earnings","Country: United Kingdom<br />Amount: 54319<br />Earnings_Type: Gross_wage_earnings","Country: United States<br />Amount: 52988<br />Earnings_Type: Gross_wage_earnings","Country: Japan<br />Amount: 52946<br />Earnings_Type: Gross_wage_earnings","Country: Korea<br />Amount: 52505<br />Earnings_Type: Gross_wage_earnings","Country: Finland<br />Amount: 49013<br />Earnings_Type: Gross_wage_earnings","Country: France<br />Amount: 48339<br />Earnings_Type: Gross_wage_earnings","Country: Sweden<br />Amount: 47658<br />Earnings_Type: Gross_wage_earnings","Country: Ireland<br />Amount: 45093<br />Earnings_Type: Gross_wage_earnings","Country: Italy<br />Amount: 43304<br />Earnings_Type: Gross_wage_earnings","Country: Canada<br />Amount: 40983<br />Earnings_Type: Gross_wage_earnings","Country: Spain<br />Amount: 40451<br />Earnings_Type: Gross_wage_earnings","Country: New Zealand<br />Amount: 39826<br />Earnings_Type: Gross_wage_earnings","Country: Israel<br />Amount: 39215<br />Earnings_Type: Gross_wage_earnings","Country: Greece<br />Amount: 35165<br />Earnings_Type: Gross_wage_earnings","Country: Slovenia<br />Amount: 31417<br />Earnings_Type: Gross_wage_earnings","Country: Portugal<br />Amount: 30888<br />Earnings_Type: Gross_wage_earnings","Country: Turkey<br />Amount: 29263<br />Earnings_Type: Gross_wage_earnings","Country: Poland<br />Amount: 27816<br />Earnings_Type: Gross_wage_earnings","Country: Czech Republic<br />Amount: 27536<br />Earnings_Type: Gross_wage_earnings","Country: Estonia<br />Amount: 26796<br />Earnings_Type: Gross_wage_earnings","Country: Hungary<br />Amount: 26012<br />Earnings_Type: Gross_wage_earnings","Country: Slovak Republic<br />Amount: 23484<br />Earnings_Type: Gross_wage_earnings","Country: Chile<br />Amount: 22616<br />Earnings_Type: Gross_wage_earnings","Country: Latvia<br />Amount: 21755<br />Earnings_Type: Gross_wage_earnings","Country: Mexico<br />Amount: 12730<br />Earnings_Type: Gross_wage_earnings","Country: OECD Average<br />Amount: 43791<br />Earnings_Type: Gross_wage_earnings"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(105,179,162,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Gross_wage_earnings","legendgroup":"Gross_wage_earnings","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.45000000000000018,0.45000000000000018,0.45000000000000018,0.44999999999999973,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.44999999999999929,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284,0.45000000000000284],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1.2250000000000001,2.2250000000000001,3.2250000000000001,4.2249999999999996,5.2249999999999996,6.2249999999999996,7.2249999999999996,8.2249999999999996,9.2249999999999996,10.225,11.225,12.225,13.225,14.225,15.225,16.225000000000001,17.225000000000001,18.225000000000001,19.225000000000001,20.225000000000001,21.225000000000001,22.225000000000001,23.225000000000001,24.225000000000001,25.225000000000001,26.225000000000001,27.225000000000001,28.225000000000001,29.225000000000001,30.225000000000001,31.225000000000001,32.225000000000001,33.225000000000001,34.225000000000001,35.225000000000001,36.225000000000001],"y":[58864,46593,45390,38194,43835,34834,38925,40834,36087,41655,41608,39211,41139,44892,34211,34224,35744,36345,29793,31639,31916,32617,32274,26022,20829,22394,21099,20834,20900,21866,17298,17965,21033,15359,11304,32624],"text":["Country: Switzerland<br />Amount: 58864<br />Earnings_Type: Wages_earning_After_Taxes","Country: Luxembourg<br />Amount: 46593<br />Earnings_Type: Wages_earning_After_Taxes","Country: Iceland<br />Amount: 45390<br />Earnings_Type: Wages_earning_After_Taxes","Country: Germany<br />Amount: 38194<br />Earnings_Type: Wages_earning_After_Taxes","Country: Netherlands<br />Amount: 43835<br />Earnings_Type: Wages_earning_After_Taxes","Country: Belgium<br />Amount: 34834<br />Earnings_Type: Wages_earning_After_Taxes","Country: Austria<br />Amount: 38925<br />Earnings_Type: Wages_earning_After_Taxes","Country: Norway+J10:O38<br />Amount: 40834<br />Earnings_Type: Wages_earning_After_Taxes","Country: Denmark<br />Amount: 36087<br />Earnings_Type: Wages_earning_After_Taxes","Country: Australia<br />Amount: 41655<br />Earnings_Type: Wages_earning_After_Taxes","Country: United Kingdom<br />Amount: 41608<br />Earnings_Type: Wages_earning_After_Taxes","Country: United States<br />Amount: 39211<br />Earnings_Type: Wages_earning_After_Taxes","Country: Japan<br />Amount: 41139<br />Earnings_Type: Wages_earning_After_Taxes","Country: Korea<br />Amount: 44892<br />Earnings_Type: Wages_earning_After_Taxes","Country: Finland<br />Amount: 34211<br />Earnings_Type: Wages_earning_After_Taxes","Country: France<br />Amount: 34224<br />Earnings_Type: Wages_earning_After_Taxes","Country: Sweden<br />Amount: 35744<br />Earnings_Type: Wages_earning_After_Taxes","Country: Ireland<br />Amount: 36345<br />Earnings_Type: Wages_earning_After_Taxes","Country: Italy<br />Amount: 29793<br />Earnings_Type: Wages_earning_After_Taxes","Country: Canada<br />Amount: 31639<br />Earnings_Type: Wages_earning_After_Taxes","Country: Spain<br />Amount: 31916<br />Earnings_Type: Wages_earning_After_Taxes","Country: New Zealand<br />Amount: 32617<br />Earnings_Type: Wages_earning_After_Taxes","Country: Israel<br />Amount: 32274<br />Earnings_Type: Wages_earning_After_Taxes","Country: Greece<br />Amount: 26022<br />Earnings_Type: Wages_earning_After_Taxes","Country: Slovenia<br />Amount: 20829<br />Earnings_Type: Wages_earning_After_Taxes","Country: Portugal<br />Amount: 22394<br />Earnings_Type: Wages_earning_After_Taxes","Country: Turkey<br />Amount: 21099<br />Earnings_Type: Wages_earning_After_Taxes","Country: Poland<br />Amount: 20834<br />Earnings_Type: Wages_earning_After_Taxes","Country: Czech Republic<br />Amount: 20900<br />Earnings_Type: Wages_earning_After_Taxes","Country: Estonia<br />Amount: 21866<br />Earnings_Type: Wages_earning_After_Taxes","Country: Hungary<br />Amount: 17298<br />Earnings_Type: Wages_earning_After_Taxes","Country: Slovak Republic<br />Amount: 17965<br />Earnings_Type: Wages_earning_After_Taxes","Country: Chile<br />Amount: 21033<br />Earnings_Type: Wages_earning_After_Taxes","Country: Latvia<br />Amount: 15359<br />Earnings_Type: Wages_earning_After_Taxes","Country: Mexico<br />Amount: 11304<br />Earnings_Type: Wages_earning_After_Taxes","Country: OECD Average<br />Amount: 32624<br />Earnings_Type: Wages_earning_After_Taxes"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(64,64,128,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"Wages_earning_After_Taxes","legendgroup":"Wages_earning_After_Taxes","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":116.1621645283562,"l":54.794520547945211},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Gross Wage Earnings vs. Wages Earning After Taxes by Country","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,36.600000000000001],"tickmode":"array","ticktext":["Switzerland","Luxembourg","Iceland","Germany","Netherlands","Belgium","Austria","Norway+J10:O38","Denmark","Australia","United Kingdom","United States","Japan","Korea","Finland","France","Sweden","Ireland","Italy","Canada","Spain","New Zealand","Israel","Greece","Slovenia","Portugal","Turkey","Poland","Czech Republic","Estonia","Hungary","Slovak Republic","Chile","Latvia","Mexico","OECD Average"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25.000000000000004,26,27,28,29,30,31,32,33,34,35,36],"categoryorder":"array","categoryarray":["Switzerland","Luxembourg","Iceland","Germany","Netherlands","Belgium","Austria","Norway+J10:O38","Denmark","Australia","United Kingdom","United States","Japan","Korea","Finland","France","Sweden","Ireland","Italy","Canada","Spain","New Zealand","Israel","Greece","Slovenia","Portugal","Turkey","Poland","Czech Republic","Estonia","Hungary","Slovak Republic","Chile","Latvia","Mexico","OECD Average"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-65,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Country","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3541.75,74376.75],"tickmode":"array","ticktext":["0","20000","40000","60000"],"tickvals":[0,20000,40000,60000],"categoryorder":"array","categoryarray":["0","20000","40000","60000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Amount","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Earnings_Type","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"274429fd1876":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"274429fd1876","visdat":{"274429fd1876":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>