"0","# Load necessary libraries"
"0","library(ggplot2)"
"0","library(plotly)"
"0","library(dplyr)"
"0","library(tidyr) # Add this line to load the tidyr package"
"0",""
"0","# Assuming 'dataset' is already loaded and exists in your environment"
"0","dataset$Gross_wage_earnings <- as.numeric(gsub("","", """", gsub(""\\$"", """", dataset$Gross_wage_earnings)))"
"0","dataset$Wages_earning_After_Taxes <- as.numeric(gsub("","", """", gsub(""\\$"", """", dataset$Wages_earning_After_Taxes)))"
"0",""
"0","# It might be necessary to ensure 'Country' is a factor for plotting"
"0","dataset$Country <- factor(dataset$Country, levels = unique(dataset$Country))"
"0",""
"0","# Reshape the data for easier plotting"
"0","data <- dataset %>%"
"0","  select(Country, Gross_wage_earnings, Wages_earning_After_Taxes) %>%"
"0","  pivot_longer(cols = -Country, names_to = ""Earnings_Type"", values_to = ""Amount"")"
"0",""
"0","# Create the ggplot"
"0","q <- ggplot(data, aes(x = Country, y = Amount, fill = Earnings_Type)) +"
"0","  geom_bar(stat = ""identity"", position = ""dodge"") +"
"0","  scale_fill_manual(values = c(""Gross_wage_earnings"" = ""#69b3a2"", ""Wages_earning_After_Taxes"" = ""#404080"")) +"
"0","  labs(title = ""Gross Wage Earnings vs. Wages Earning After Taxes by Country"","
"0","       x = ""Country"","
"0","       y = ""Amount"") +"
"0","  theme(axis.text.x = element_text(angle = 65, vjust = 0.6))"
"0",""
"0","# Convert ggplot object to plotly for interactivity"
"0","p_interactive <- ggplotly(q)"
"0",""
"0","# Show the plot"
"0","p_interactive"
